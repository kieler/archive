<?xml version="1.0" encoding="UTF-8"?>
<kaom:Entity xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ann="http://kieler.cs.cau.de/annotations" xmlns:kaom="http://kieler.cs.cau.de/KAOM">
  <childEntities name="RijndaelEncryption">
    <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
    <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.TypedCompositeActor"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="_createdBy" value="8.0.beta" type="ptolemy.kernel.attributes.VersionAttribute"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[546, 502]" type="ptolemy.actor.gui.SizeAttribute"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" value="[104, 127]" type="ptolemy.actor.gui.LocationAttribute"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
      <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="A model of the rijndael encryption system, operating in ECB mode.&#xA;This model makes heavy use of the class mechanism in Ptolemy II&#xA;to describe components that are instantiated multiple times in the model.&#xA;&#xA;The algorithm is parameterized to run on 128 bits of data at a time.&#xA;Executing the model displays two windows of data in hex format.&#xA;One window shows 128 bits of encrypted data, while the other displays &#xA;intermediate results in the encryption process after each 'round'" type="ptolemy.kernel.util.StringAttribute">
        <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
          <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
        </annotations>
      </annotations>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{20.0, 240.0}" type="ptolemy.kernel.util.Location"/>
      <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo" object="//@childEntities.0/@childEntities.2"/>
    </annotations>
    <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={209, 22, 761, 609}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{273.0, 251.0}" type="ptolemy.data.expr.ExpertParameter"/>
    <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated2" type="ptolemy.vergil.kernel.attributes.TextAttribute">
      <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="The convertToString algorithm (with blue halo)&#xA;is defined here as a single model that is &#xA;instantiated multiple times.  This class definition &#xA;is local to the model and stored in the same &#xA;XML file.  Modifications to this class will propagate&#xA;to all instances." type="ptolemy.kernel.util.StringAttribute">
        <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
          <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
        </annotations>
      </annotations>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{185.0, 15.0}" type="ptolemy.kernel.util.Location"/>
      <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
    </annotations>
    <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated3" type="ptolemy.vergil.kernel.attributes.TextAttribute">
      <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.2, 0.2, 0.2, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="Author: Stephen Neuendorffer" type="ptolemy.kernel.util.StringAttribute">
        <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
          <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
        </annotations>
      </annotations>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{20.0, 460.0}" type="ptolemy.kernel.util.Location"/>
      <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
    </annotations>
    <childEntities name="rijndael">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.TypedCompositeActor"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{195.0, 205.0}" type="ptolemy.kernel.util.Location"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[781, 567]" type="ptolemy.actor.gui.SizeAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" value="[104, 127]" type="ptolemy.actor.gui.LocationAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="key" value="{0x00ub,0x01ub,0x02ub,0x03ub,0x04ub,0x05ub,0x06ub,0x07ub,0x08ub,0x09ub,0x0aub,0x0bub,0x0cub,0x0dub,0x0eub,0x0fub}" type="ptolemy.data.expr.Parameter">
        <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" type="ptolemy.kernel.util.SingletonAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.ValueIcon"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_smallIconDescription" type="ptolemy.kernel.util.SingletonConfigurableAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_editorFactory" type="ptolemy.vergil.toolbox.VisibleParameterEditorFactory"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[25.0, 285.0]" type="ptolemy.kernel.util.Location"/>
      </annotations>
      <annotations xsi:type="ann:TypedStringAnnotation" name="roundCount" value="10" type="ptolemy.data.expr.Parameter">
        <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" type="ptolemy.kernel.util.SingletonAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.ValueIcon"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_smallIconDescription" type="ptolemy.kernel.util.SingletonConfigurableAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_editorFactory" type="ptolemy.vergil.toolbox.VisibleParameterEditorFactory"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[25.0, 305.0]" type="ptolemy.kernel.util.Location"/>
      </annotations>
      <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
        <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="This model implements the rijndael block encryption algorithm.&#xA;It consumes a block of 128 bits, encrypts it, and then outputs 128 encrypted bits.&#xA;The 128 bit key to be used is specified by the key parameter (an array of unsigned bytes)&#xA;The roundCount parameter gives the number of cipher rounds that should be performed,&#xA;and should be 10 for 128 bit data and 128 bit key.&#xA;&#xA;Note that this model contains another instance of the convertToString class defined&#xA;at the toplevel, as well as three more class definitions that are used by various&#xA;internal models." type="ptolemy.kernel.util.StringAttribute">
          <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
            <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
          </annotations>
        </annotations>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{20.0, -100.0}" type="ptolemy.kernel.util.Location"/>
        <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
      </annotations>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={0, 1, 996, 674}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{390.5, 283.5}" type="ptolemy.data.expr.ExpertParameter"/>
      <childEntities name="RoundKeyGenerator">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.TypedCompositeActor"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[110.0, 235.0]" type="ptolemy.kernel.util.Location"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[679, 402]" type="ptolemy.actor.gui.SizeAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
          <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="This block implements the key expansion and key selection.&#xA;It basically implements a random number generator that uses&#xA;the 128 bit user key as a seed." type="ptolemy.kernel.util.StringAttribute">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
              <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
            </annotations>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{45.0, 420.0}" type="ptolemy.kernel.util.Location"/>
          <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
        </annotations>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={58, 90, 894, 509}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{354.6414141414142, 308.2588383838384}" type="ptolemy.data.expr.ExpertParameter"/>
        <childEntities name="Expression">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Expression"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="expression" value="a#b" type="ptolemy.kernel.util.StringAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
            <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="expression" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="60" type="ptolemy.data.expr.Parameter"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[540.0, 325.0]" type="ptolemy.kernel.util.Location"/>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.1">
            <annotations name="output"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="a" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.8">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="input"/>
          </childPorts>
          <childPorts name="b" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="SequenceToArray">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.SequenceToArray"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="arrayLength" value="4" type="ptolemy.actor.parameters.PortParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="SequenceToArrayIcon" type="ptolemy.vergil.icon.EditorIcon">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {104, 129, 815, 509}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[600, 400]" type="ptolemy.actor.gui.SizeAttribute"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[185.0, 260.0]" type="ptolemy.kernel.util.Location"/>
          <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.3">
            <annotations name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.4">
            <annotations name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="arrayLength">
            <annotations name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_notDraggable" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="SampleDelay">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.SampleDelay"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="initialOutputs" value="{key(0),key(1),key(2),key(3),key(4),key(5),key(6),key(7),key(8),key(9),key(10),key(11)}" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="192.5, 335.0" type="ptolemy.kernel.util.Location"/>
          <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.5">
            <annotations name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.6">
            <annotations name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="SampleDelay2">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.SampleDelay"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="initialOutputs" value="{key(12),key(13),key(14),key(15)}" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="82.5, 250.0" type="ptolemy.kernel.util.Location"/>
          <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.1">
            <annotations name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.7">
            <annotations name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="ArrayToSequence">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.ArrayToSequence"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="arrayLength" value="4" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="ArrayToSequenceIcon" type="ptolemy.vergil.icon.EditorIcon">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {104, 129, 815, 509}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[600, 400]" type="ptolemy.actor.gui.SizeAttribute"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[472.5, 260.0]" type="ptolemy.kernel.util.Location"/>
          <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.10">
            <annotations name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.8">
            <annotations name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="Scale">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Scale"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="factor" value="1ub" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.AttributeValueIcon">
            <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="factor" type="ptolemy.kernel.util.StringAttribute"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="287.5, 335.0" type="ptolemy.kernel.util.Location"/>
          <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.6">
            <annotations name="input"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.9">
            <annotations name="output"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="modal model">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.ModalModel"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_tableauFactory" type="ptolemy.vergil.fsm.modal.ModalTableauFactory"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[310.0, 260.0]" type="ptolemy.kernel.util.Location"/>
          <childEntities name="_Controller">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.ModalController"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_library" type="ptolemy.moml.LibraryAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
              <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="Create a state machine here (and ports, if needed) and&#xA;create refinements for the states. Each refinement needs a director.&#xA;For hybrid system models, use the CTEmbeddedDirector." type="ptolemy.kernel.util.StringAttribute">
                <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
                  <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
                  <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
                </annotations>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{90.0, 65.0}" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[536, 350]" type="ptolemy.actor.gui.SizeAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="wordsInKey" value="4" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="cycle" value="1" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={136, 154, 751, 459}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{330.7335069444445, 154.7196180555556}" type="ptolemy.data.expr.ExpertParameter"/>
            <childEntities name="DoNothing">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.kernel.State"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="refinementName" value="DoNothing" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="isInitialState" value="true" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_controllerFactory" type="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="310.0, 225.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="incomingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.0 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.1">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="outgoingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.3">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="SubRotWord">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.kernel.State"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="refinementName" value="SubRotWord" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="isInitialState" value="false" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_controllerFactory" type="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="180.0, 225.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="incomingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.4">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="outgoingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.5">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childRelations.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childRelations.2">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childEntities.0/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childRelations.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childEntities.0/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childRelations.2">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childEntities.1/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childRelations.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childRelations.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.2">
              <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="95.0, 225.0" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="output" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.3">
              <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="490.0, 235.0" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childRelations name="relation" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.0 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.5">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="true" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="setActions" value="cycle = 1" type="ptolemy.domains.fsm.kernel.CommitActionsAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="0.6283185307179586" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="0.11840474385028849" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
            </childRelations>
            <childRelations name="relation2" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.4">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="cycle >= wordsInKey -1" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="0.6283185307179586" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="-3.0231879097395042" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
            </childRelations>
            <childRelations name="relation3" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.1 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childLinks.3">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="cycle &lt; wordsInKey -1" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="setActions" value="cycle = cycle + 1" type="ptolemy.domains.fsm.kernel.CommitActionsAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="2.283034506707155" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="-0.783911495102464" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
            </childRelations>
          </childEntities>
          <childEntities name="SubRotWord">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.Refinement"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[634, 350]" type="ptolemy.actor.gui.SizeAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={50, 147, 849, 457}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{317.0, 175.0}" type="ptolemy.data.expr.ExpertParameter"/>
            <childEntities name="SampleDelay">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.SampleDelay"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="initialOutputs" value="{1ub}" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
                <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="initialOutputs" type="ptolemy.kernel.util.StringAttribute"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="20" type="ptolemy.data.expr.Parameter"/>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="285.0, 55.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.14">
                <annotations name="input"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.1">
                <annotations name="output"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="Commutator">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Commutator"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="CommutatorIcon" type="ptolemy.vergil.icon.EditorIcon">
                <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {46, 101, 815, 516}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[600, 400]" type="ptolemy.actor.gui.SizeAttribute"/>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="370.0, 145.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.3 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.4 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.5">
                <annotations name="input"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.6">
                <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" value="4 * blockSize" type="ptolemy.actor.lib.Commutator$WidthDependentParameter"/>
                <annotations name="output"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.actor.lib.Commutator$WidthDependentParameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="Const">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Const"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="value" value="0ub" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
                <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="value" type="ptolemy.kernel.util.StringAttribute"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="40" type="ptolemy.data.expr.Parameter"/>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="215.0, 145.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.7">
                <annotations name="output"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="trigger">
                <annotations name="input"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="SequenceToArray">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.SequenceToArray"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="arrayLength" value="4" type="ptolemy.actor.parameters.PortParameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="SequenceToArrayIcon" type="ptolemy.vergil.icon.EditorIcon">
                <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {104, 129, 815, 509}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[600, 400]" type="ptolemy.actor.gui.SizeAttribute"/>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="510.0, 190.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.10">
                <annotations name="input"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.8">
                <annotations name="output"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="arrayLength">
                <annotations name="input"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="_notDraggable" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="ArrayToSequence">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.sdf.lib.ArrayToSequence"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="arrayLength" value="4" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="ArrayToSequenceIcon" type="ptolemy.vergil.icon.EditorIcon">
                <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {104, 129, 815, 509}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[600, 400]" type="ptolemy.actor.gui.SizeAttribute"/>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="90.0, 195.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.0">
                <annotations name="input"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.9">
                <annotations name="output"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="Expression">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Expression"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="expression" value="a#b" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
                <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="expression" type="ptolemy.kernel.util.StringAttribute"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="60" type="ptolemy.data.expr.Parameter"/>
              </annotations>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="440.0, 180.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.10">
                <annotations name="output"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="a" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.6">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="input"/>
              </childPorts>
              <childPorts name="b" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.11">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="input"/>
              </childPorts>
            </childEntities>
            <childEntities name="InstanceOfSbox">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="Sbox"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="270.0, 220.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.12">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="input"/>
              </childPorts>
              <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.11">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="output"/>
              </childPorts>
            </childEntities>
            <childEntities name="InstanceOfrotate bytes">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="rotate bytes"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{175.0, 210.0}" type="ptolemy.kernel.util.Location"/>
              <childPorts name="port" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.9">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="input"/>
              </childPorts>
              <childPorts name="port2" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.12">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="output"/>
              </childPorts>
            </childEntities>
            <childEntities name="InstanceOfMulTwo">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="MulTwo"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="185.0, 55.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="port" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.13">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
              <childPorts name="port2" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.14">
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
                <annotations name="output"/>
              </childPorts>
            </childEntities>
            <childEntities name="SDF Director">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="Director"/>
              <annotations name="annotationNode"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
                <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="80.0, 50.0" type="ptolemy.kernel.util.Location"/>
              </annotations>
            </childEntities>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.4/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.0/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.1/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.1/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.1/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.1/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.5/@childPorts.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.2/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.3/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childPorts.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.4/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.7/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.5/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.3/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.6/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.5/@childPorts.2">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.7/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.6/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.8/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childRelations.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="undirected"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.8/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childEntities.0/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childPorts name="input" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.4">
              <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="25.0, 195.0" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" value="1" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.5" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.8">
              <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="610.0, 190.0" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" value="1" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="tokenInitProduction" value="0" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childRelations name="relation3" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.3 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.4 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.5" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.7">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childRelations>
            <childRelations name="relation6" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.2" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.1 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childLinks.13">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childRelations>
          </childEntities>
          <childEntities name="DoNothing">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.Refinement"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[367, 350]" type="ptolemy.actor.gui.SizeAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {270, 154, 582, 459}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{183.5, 175.0}" type="ptolemy.data.expr.ExpertParameter"/>
            <childEntities name="Discard">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Discard"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="250.0, 230.0" type="ptolemy.kernel.util.Location"/>
              <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childLinks.2">
                <annotations name="input"/>
                <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              </childPorts>
            </childEntities>
            <childEntities name="SDF Director">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="Director"/>
              <annotations name="annotationNode"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
                <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="175.0, 85.0" type="ptolemy.kernel.util.Location"/>
              </annotations>
            </childEntities>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childRelations.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childPorts.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childEntities.0/@childPorts.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childLinks>
            <childPorts name="input" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.6">
              <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="120.0, 180.0" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" value="1" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.7" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childLinks.1">
              <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="320.0, 180.0" type="ptolemy.kernel.util.Location"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" value="1" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childRelations name="relation2" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childLinks.1 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childLinks.2" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childLinks.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childRelations>
          </childEntities>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childPorts.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.0/@childPorts.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childEntities.2/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childRelations.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childPorts name="input" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.4">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.10" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.1">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childRelations name="inputRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.4 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.6" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childRelations>
          <childRelations name="outputRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.1 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.3" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.5 //@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childLinks.7">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childRelations>
        </childEntities>
        <childEntities name="SDF Director">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations name="Director"/>
          <annotations name="annotationNode"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{95.0, 175.0}" type="ptolemy.kernel.util.Location"/>
          </annotations>
        </childEntities>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.3/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.0/@childPorts.2" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childRelations.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations name="undirected"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.2/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.2/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.5/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.3/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childRelations.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.4/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.0/@childPorts.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.5/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childRelations.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.6/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.0/@childEntities.4/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childPorts name="round key" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.1" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.0">
          <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="377.5, 375.0" type="ptolemy.kernel.util.Location"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childRelations name="relation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.9">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
        <childRelations name="relation3" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.3 //@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.5" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.0/@childLinks.7">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
      </childEntities>
      <childEntities name="RoundSequence">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.ModalModel"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="directorClass" value="ptolemy.domains.fsm.kernel.MultirateFSMDirector" type="ptolemy.data.expr.StringParameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_tableauFactory" type="ptolemy.vergil.fsm.modal.ModalTableauFactory"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[270.0, 190.0]" type="ptolemy.kernel.util.Location"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="requiredFiringsPerIteration" value="roundCount + 1" type="ptolemy.data.expr.Parameter"/>
        <childEntities name="_Controller">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.ModalController"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_library" type="ptolemy.moml.LibraryAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="Create a state machine here (and ports, if needed) and&#xA;create refinements for the states. Each refinement needs a director.&#xA;For hybrid system models, use the CTEmbeddedDirector." type="ptolemy.kernel.util.StringAttribute">
              <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
                <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
              </annotations>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{50.0, 15.0}" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[510, 350]" type="ptolemy.actor.gui.SizeAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="round" value="0" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={149, 150, 725, 467}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{255.0, 175.0}" type="ptolemy.data.expr.ExpertParameter"/>
          <childEntities name="regular">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.kernel.State"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="refinementName" value="regular" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="isInitialState" value="true" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_controllerFactory" type="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[280.0, 235.0]" type="ptolemy.kernel.util.Location"/>
            <childPorts name="incomingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.0 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="outgoingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.3">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
          </childEntities>
          <childEntities name="final">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.kernel.State"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="refinementName" value="final" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_controllerFactory" type="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="455.0, 225.0" type="ptolemy.kernel.util.Location"/>
            <childPorts name="incomingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.4">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="outgoingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.5">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
          </childEntities>
          <childEntities name="init">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.kernel.State"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="refinementName" value="init" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="isInitialState" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_controllerFactory" type="ptolemy.vergil.fsm.modal.HierarchicalStateControllerFactory"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="249.49999999999994, 149.78725609151581" type="ptolemy.kernel.util.Location"/>
            <childPorts name="incomingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.6">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="outgoingPort" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.7">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
          </childEntities>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.3">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.0/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.0/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.3">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.1/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.2/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childEntities.2/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childRelations.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childPorts name="text" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.5">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="65.0, 210.0" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="round key" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.6">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="65.0, 300.0" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="cipher" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.7">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[525.0, 185.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="last cipher" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.8">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[65.0, 145.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="intermediate cipher" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.9">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[525.0, 230.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childRelations name="relation" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.4">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="round >= roundCount -1" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="setActions" value="round = round + 1" type="ptolemy.domains.fsm.kernel.CommitActionsAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="0.6283185307179586" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="0.07882926725254799" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
          </childRelations>
          <childRelations name="relation2" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.5 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.6">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="true" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="setActions" value="round = 0" type="ptolemy.domains.fsm.kernel.CommitActionsAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="0.6283185307179586" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="-2.7619274809085654" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
          </childRelations>
          <childRelations name="relation3" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.0 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.7">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="true" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="setActions" value="round = 1" type="ptolemy.domains.fsm.kernel.CommitActionsAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="0.6283185307179586" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="1.3263063851542727" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
          </childRelations>
          <childRelations name="relation4" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.1 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childLinks.3">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="guardExpression" value="round &lt; roundCount -1" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="setActions" value="round = round +1" type="ptolemy.domains.fsm.kernel.CommitActionsAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="exitAngle" value="2.377408250702737" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="gamma" value="0.6516593965849368" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="reset" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="preemptive" value="false" type="ptolemy.data.expr.Parameter"/>
          </childRelations>
        </childEntities>
        <childEntities name="regular">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.Refinement"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[667, 350]" type="ptolemy.actor.gui.SizeAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="A normal encryption round." type="ptolemy.kernel.util.StringAttribute">
              <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
                <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
              </annotations>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{10.0, 305.0}" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {72, 150, 882, 459}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{333.5, 175.0}" type="ptolemy.data.expr.ExpertParameter"/>
          <childEntities name="Expression">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Expression"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="expression" value="input # roundKey" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
              <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="expression" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="60" type="ptolemy.data.expr.Parameter"/>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="430.0, 265.0" type="ptolemy.kernel.util.Location"/>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.2">
              <annotations name="output"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.6">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="roundKey" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
          </childEntities>
          <childEntities name="InstanceOfSbox">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="Sbox"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="215.0, 175.0" type="ptolemy.kernel.util.Location"/>
            <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.3">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="output"/>
            </childPorts>
          </childEntities>
          <childEntities name="InstanceOfShift Row">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="Shift Row"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="315.0, 175.0" type="ptolemy.kernel.util.Location"/>
            <childPorts name="port" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.3">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="port2" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.4">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
          </childEntities>
          <childEntities name="InstanceOfMix Column">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="Mix Column"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="440.0, 175.0" type="ptolemy.kernel.util.Location"/>
            <childPorts name="port" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.5">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="port2" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.6">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="output"/>
            </childPorts>
          </childEntities>
          <childEntities name="SDF Director">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="Director"/>
            <annotations name="annotationNode"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
              <annotations xsi:type="ann:TypedStringAnnotation" name="vectorizationFactor" value="1" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="105.0, 65.0" type="ptolemy.kernel.util.Location"/>
            </annotations>
          </childEntities>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.0/@childPorts.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.1/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.4">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.2/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.2/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childRelations.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.3/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childRelations.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="undirected"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.3/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childEntities.0/@childPorts.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childPorts name="text" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.10">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[50.0, 120.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="round key" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.11">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="50.0, 275.0" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.12">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[570.0, 120.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="last cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.1" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.13">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[50.0, 175.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="intermediate cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.14" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.2">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[570.0, 265.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childRelations name="relation4" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.4 //@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childLinks.5">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childRelations>
        </childEntities>
        <childEntities name="final">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.Refinement"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[694, 387]" type="ptolemy.actor.gui.SizeAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="The final encryption round, which is similar to a normal encryption round, &#xA;except that it lacks the MixColumn operation.&#xA;This makes encryption and decryption more symmetric." type="ptolemy.kernel.util.StringAttribute">
              <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
                <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
              </annotations>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{20.0, 320.0}" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds = {-4, -4, 909, 496}, maximized = false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{348.2859848484848, 201.2679924242424}" type="ptolemy.data.expr.ExpertParameter"/>
          <childEntities name="Expression">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Expression"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="expression" value="input # roundKey" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
              <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="expression" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="60" type="ptolemy.data.expr.Parameter"/>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[430.0, 210.0]" type="ptolemy.kernel.util.Location"/>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.2">
              <annotations name="output"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.4">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="roundKey" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
          </childEntities>
          <childEntities name="InstanceOfSbox">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="Sbox"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[220.0, 165.0]" type="ptolemy.kernel.util.Location"/>
            <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.3">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="output"/>
            </childPorts>
          </childEntities>
          <childEntities name="InstanceOfShift Row">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="Shift Row"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[320.0, 165.0]" type="ptolemy.kernel.util.Location"/>
            <childPorts name="port" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.3">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="port2" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.4">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="output"/>
            </childPorts>
          </childEntities>
          <childEntities name="SDF Director">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="Director"/>
            <annotations name="annotationNode"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
              <annotations xsi:type="ann:TypedStringAnnotation" name="vectorizationFactor" value="1" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="100.0, 55.0" type="ptolemy.kernel.util.Location"/>
            </annotations>
          </childEntities>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.0/@childPorts.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.1/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.2/@childPorts.0">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.2/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childEntities.0/@childPorts.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childPorts name="text" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.15">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[40.0, 135.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="round key" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.16">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{40.0, 275.0}" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.17" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.2">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[540.0, 210.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="last cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childLinks.1" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.18">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[40.0, 220.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="intermediate cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.19">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[540.0, 265.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childEntities name="init">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.domains.fsm.modal.Refinement"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilSize" value="[548, 350]" type="ptolemy.actor.gui.SizeAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilLocation" type="ptolemy.actor.gui.LocationAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="AnnotationUpdated" type="ptolemy.vergil.kernel.attributes.TextAttribute">
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideName" value="true" type="ptolemy.data.expr.SingletonParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_hideAllParameters" value="true" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textSize" value="14" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="textColor" value="{0.0, 0.0, 1.0, 1.0}" type="ptolemy.actor.gui.ColorAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="fontFamily" value="SansSerif" type="ptolemy.data.expr.StringParameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="bold" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="italic" value="false" type="ptolemy.data.expr.Parameter"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="text" value="The 'first' encryption round, which just XORs the key" type="ptolemy.kernel.util.StringAttribute">
              <annotations xsi:type="ann:TypedStringAnnotation" name="_style" type="ptolemy.actor.gui.style.TextStyle">
                <annotations xsi:type="ann:TypedStringAnnotation" name="height" value="20" type="ptolemy.data.expr.Parameter"/>
                <annotations xsi:type="ann:TypedStringAnnotation" name="width" value="80" type="ptolemy.data.expr.Parameter"/>
              </annotations>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{60.0, 305.0}" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:ReferenceAnnotation" name="attachedTo"/>
          </annotations>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={19, 261, 763, 468}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilZoomFactor" value="1.0" type="ptolemy.data.expr.ExpertParameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_vergilCenter" value="{274.0, 175.0}" type="ptolemy.data.expr.ExpertParameter"/>
          <childEntities name="Expression">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Expression"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="expression" value="input # roundKey" type="ptolemy.kernel.util.StringAttribute"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_icon" type="ptolemy.vergil.icon.BoxedValueIcon">
              <annotations xsi:type="ann:TypedStringAnnotation" name="attributeName" value="expression" type="ptolemy.kernel.util.StringAttribute"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="displayWidth" value="60" type="ptolemy.data.expr.Parameter"/>
            </annotations>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[283.0234375, 194.81640625]" type="ptolemy.kernel.util.Location"/>
            <childPorts name="output" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childLinks.2">
              <annotations name="output"/>
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            </childPorts>
            <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childLinks.0">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
            <childPorts name="roundKey" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childLinks.1">
              <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
              <annotations name="input"/>
            </childPorts>
          </childEntities>
          <childEntities name="SDF Director">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
            <annotations name="Director"/>
            <annotations name="annotationNode"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
              <annotations xsi:type="ann:TypedStringAnnotation" name="vectorizationFactor" value="16" type="ptolemy.data.expr.Parameter"/>
              <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="340.0, 60.0" type="ptolemy.kernel.util.Location"/>
            </annotations>
          </childEntities>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childEntities.0/@childPorts.1">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childEntities.0/@childPorts.2">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.4">
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childLinks>
          <childPorts name="text" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.20">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[68.0234375, 104.81640625]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="round key" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childLinks.1" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.21">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[68.0234375, 204.81640625]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.22">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[420.0, 195.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="last cipher" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.23">
            <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[68.0234375, 249.81640625]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
          <childPorts name="intermediate cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.24" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childLinks.2">
            <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
            <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[420.0, 240.0]" type="ptolemy.kernel.util.Location"/>
            <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          </childPorts>
        </childEntities>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.2" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.2">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.3">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.4" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.4">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childPorts.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.2" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childPorts.2">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childPorts.3">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.4" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.0/@childPorts.4">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.2" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.2">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.3">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.1/@childPorts.4" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.4">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.2" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.2">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.3">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.2/@childPorts.4" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.4">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.1" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.2" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.2">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.3" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.3">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childEntities.3/@childPorts.4" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childRelations.4">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childLinks>
        <childPorts name="text" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childLinks.0">
          <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childPorts name="round key" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.1" incomingLinks="//@childEntities.0/@childEntities.0/@childLinks.1">
          <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" value="16" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childPorts name="cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.2" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.2">
          <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" value="0" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childPorts name="last cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.3" incomingLinks="//@childEntities.0/@childEntities.0/@childLinks.3">
          <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childPorts name="intermediate cipher" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.4" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.4">
          <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childRelations name="textRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.5 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.10 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.15 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.20" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.0">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
        <childRelations name="round keyRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.6 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.11 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.16 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.21" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.1">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
        <childRelations name="cipherRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.2 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.7" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.12 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.17 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.22">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
        <childRelations name="last cipherRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.8 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.13 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.18 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.23" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.3">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
        <childRelations name="intermediate cipherRelation" outgoingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.4 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.9" incomingLinks="//@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.14 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.19 //@childEntities.0/@childEntities.0/@childEntities.1/@childLinks.24">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childRelations>
      </childEntities>
      <childEntities name="Display">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.gui.Display"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={234, 511, 334, 241}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_paneSize" value="[326, 186]" type="ptolemy.actor.gui.SizeAttribute"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="title" value="Intermediate Round Output" type="ptolemy.data.expr.StringParameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[460.0, 235.0]" type="ptolemy.kernel.util.Location"/>
        <childPorts name="input" incomingLinks="//@childEntities.0/@childEntities.0/@childLinks.6">
          <annotations name="input"/>
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
      </childEntities>
      <childEntities name="convertToString">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="convertToStringClass"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[375.0, 235.0]" type="ptolemy.kernel.util.Location"/>
        <childPorts name="port" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.5">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        </childPorts>
        <childPorts name="port2" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.6">
          <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
          <annotations name="output"/>
        </childPorts>
      </childEntities>
      <childEntities name="DDF Director">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations name="Director"/>
        <annotations name="annotationNode"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="DDF Director" type="ptolemy.domains.ddf.kernel.DDFDirector">
          <annotations xsi:type="ann:TypedStringAnnotation" name="iterations" value="0" type="ptolemy.data.expr.Parameter"/>
          <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[85.0, 110.0]" type="ptolemy.kernel.util.Location"/>
        </annotations>
      </childEntities>
      <childLinks source="//@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.0">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childLinks>
      <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.0/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.1">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childLinks>
      <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.2" target="//@childEntities.0/@childEntities.0/@childPorts.1">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childLinks>
      <childLinks source="//@childEntities.0/@childEntities.0/@childRelations.0" target="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.3">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childLinks>
      <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.1/@childPorts.4" target="//@childEntities.0/@childEntities.0/@childRelations.0">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childLinks>
      <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.3/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childRelations.0">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations name="undirected"/>
      </childLinks>
      <childLinks source="//@childEntities.0/@childEntities.0/@childEntities.3/@childPorts.1" target="//@childEntities.0/@childEntities.0/@childEntities.2/@childPorts.0">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childLinks>
      <childPorts name="text" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.0" incomingLinks="//@childEntities.0/@childLinks.1">
        <annotations xsi:type="ann:TypedStringAnnotation" name="input"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[60.0, 180.0]" type="ptolemy.kernel.util.Location"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" value="16" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childPorts>
      <childPorts name="cipher" outgoingLinks="//@childEntities.0/@childLinks.0" incomingLinks="//@childEntities.0/@childEntities.0/@childLinks.2">
        <annotations xsi:type="ann:TypedStringAnnotation" name="output"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[405.0, 180.0]" type="ptolemy.kernel.util.Location"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="tokenProductionRate" value="16" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childPorts>
      <childRelations name="relation8" outgoingLinks="//@childEntities.0/@childEntities.0/@childLinks.3" incomingLinks="//@childEntities.0/@childEntities.0/@childLinks.4 //@childEntities.0/@childEntities.0/@childLinks.5">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childRelations>
    </childEntities>
    <childEntities name="Display">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.gui.Display"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_windowProperties" value="{bounds={576, 509, 334, 241}, maximized=false}" type="ptolemy.actor.gui.WindowPropertiesAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_paneSize" value="[326, 186]" type="ptolemy.actor.gui.SizeAttribute"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="title" value="Encrypted Block" type="ptolemy.data.expr.StringParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[395.0, 205.0]" type="ptolemy.kernel.util.Location"/>
      <childPorts name="input" incomingLinks="//@childEntities.0/@childLinks.2">
        <annotations name="input"/>
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childPorts>
    </childEntities>
    <childEntities name="Ramp">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="ptolemy.actor.lib.Ramp"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="init" value="0x0ub" type="ptolemy.data.expr.Parameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="step" value="0x1ub" type="ptolemy.actor.parameters.PortParameter"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[70.0, 205.0]" type="ptolemy.kernel.util.Location"/>
      <childPorts name="output" outgoingLinks="//@childEntities.0/@childLinks.1">
        <annotations name="output"/>
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childPorts>
      <childPorts name="trigger">
        <annotations name="input"/>
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childPorts>
      <childPorts name="step">
        <annotations name="input"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="tokenConsumptionRate" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_notDraggable" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      </childPorts>
    </childEntities>
    <childEntities name="convertToString">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      <annotations xsi:type="ann:StringAnnotation" name="ptolemyClass" value="convertToStringClass"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="[295.0, 205.0]" type="ptolemy.kernel.util.Location"/>
      <childPorts name="port" incomingLinks="//@childEntities.0/@childLinks.0">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations name="input"/>
      </childPorts>
      <childPorts name="port2" outgoingLinks="//@childEntities.0/@childLinks.2">
        <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
        <annotations name="output"/>
      </childPorts>
    </childEntities>
    <childEntities name="SDF Director">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
      <annotations name="Director"/>
      <annotations name="annotationNode"/>
      <annotations xsi:type="ann:TypedStringAnnotation" name="SDF Director" type="ptolemy.domains.sdf.kernel.SDFDirector">
        <annotations xsi:type="ann:TypedStringAnnotation" name="iterations" value="2" type="ptolemy.data.expr.Parameter"/>
        <annotations xsi:type="ann:TypedStringAnnotation" name="_location" value="{80.0, 45.0}" type="ptolemy.kernel.util.Location"/>
      </annotations>
    </childEntities>
    <childLinks source="//@childEntities.0/@childEntities.0/@childPorts.1" target="//@childEntities.0/@childEntities.3/@childPorts.0">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
    </childLinks>
    <childLinks source="//@childEntities.0/@childEntities.2/@childPorts.0" target="//@childEntities.0/@childEntities.0/@childPorts.0">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
    </childLinks>
    <childLinks source="//@childEntities.0/@childEntities.3/@childPorts.1" target="//@childEntities.0/@childEntities.1/@childPorts.0">
      <annotations xsi:type="ann:StringAnnotation" name="language" value="ptolemy"/>
    </childLinks>
  </childEntities>
</kaom:Entity>
